<script>
  (function(){
    const veil = document.getElementById("veil");

    function cinematicGo(url){
      // lock scrolling so it feels intentional
      document.documentElement.style.scrollBehavior = "auto";
      document.body.classList.add("going-forward");
      veil?.classList.add("open");
      veil?.setAttribute("aria-hidden","false");

      // give the transition time to play
      setTimeout(() => {
        window.location.href = url;
      }, 520);
    }

    // Intercept the Initiation door specifically
    document.querySelectorAll('[data-go="initiation.html"]').forEach(btn => {
      btn.addEventListener("click", (e) => {
        e.preventDefault();
        cinematicGo("initiation.html");
      });
    });
  })();
</script>
